{"ast":null,"code":"const handleSingleOperation = async (operation, currentNumber, setDisplay, setCurrentNumber, display, setIsResultDisplayed) => {\n  const number = parseFloat(currentNumber.replace(/−/g, \"-\"));\n  console.log(number);\n  if (isNaN(number) || display.startsWith(\"Error\")) return;\n  try {\n    const response = await fetch(`http://localhost:8080/calculate/single-operation?operation=${encodeURIComponent(operation)}&number=${number}`);\n    const result = await response.text();\n    if (result.startsWith(\"Error\")) {\n      setDisplay(result);\n      setIsResultDisplayed(true);\n      return;\n    }\n    const formattedResult = parseFloat(result) % 1 === 0 ? parseInt(result).toString() : result;\n    setCurrentNumber(formattedResult);\n    const updatedDisplay = display.slice(0, -currentNumber.length) + `${formattedResult}`;\n    setDisplay(updatedDisplay);\n    setIsResultDisplayed(true);\n  } catch (error) {\n    setIsResultDisplayed(true);\n    console.error(\"Error:\", error);\n    setDisplay(\"Error\");\n  }\n};\nexport default handleSingleOperation;","map":{"version":3,"names":["handleSingleOperation","operation","currentNumber","setDisplay","setCurrentNumber","display","setIsResultDisplayed","number","parseFloat","replace","console","log","isNaN","startsWith","response","fetch","encodeURIComponent","result","text","formattedResult","parseInt","toString","updatedDisplay","slice","length","error"],"sources":["D:/Farouk/YEAR 2/First Term/Programming 2/lab 2/Calculator/FrontEnd/src/Calculator/Functions/handleSingleOperation.js"],"sourcesContent":["const handleSingleOperation = async (operation, currentNumber, setDisplay, setCurrentNumber, display, setIsResultDisplayed) => {\r\n  \r\n  const number = parseFloat(currentNumber.replace(/−/g, \"-\"));\r\n  console.log(number)\r\n  if (isNaN(number)||display.startsWith(\"Error\")) return;\r\n  try {\r\n    const response = await fetch(`http://localhost:8080/calculate/single-operation?operation=${encodeURIComponent(operation)}&number=${number}`);\r\n    const result = await response.text();\r\n\r\n    if (result.startsWith(\"Error\")) {\r\n      setDisplay(result);\r\n      setIsResultDisplayed(true);\r\n      return;\r\n    }\r\n\r\n\r\n    const formattedResult = parseFloat(result) % 1 === 0 ? parseInt(result).toString() : result;\r\n\r\n    setCurrentNumber(formattedResult);\r\n    const updatedDisplay = display.slice(0, -currentNumber.length) + `${formattedResult}`;\r\n    setDisplay(updatedDisplay);\r\n    setIsResultDisplayed(true);\r\n  } catch (error) {\r\n    setIsResultDisplayed(true);\r\n    console.error(\"Error:\", error);\r\n    setDisplay(\"Error\");\r\n  }\r\n};\r\n\r\nexport default handleSingleOperation;"],"mappings":"AAAA,MAAMA,qBAAqB,GAAG,MAAAA,CAAOC,SAAS,EAAEC,aAAa,EAAEC,UAAU,EAAEC,gBAAgB,EAAEC,OAAO,EAAEC,oBAAoB,KAAK;EAE7H,MAAMC,MAAM,GAAGC,UAAU,CAACN,aAAa,CAACO,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;EAC3DC,OAAO,CAACC,GAAG,CAACJ,MAAM,CAAC;EACnB,IAAIK,KAAK,CAACL,MAAM,CAAC,IAAEF,OAAO,CAACQ,UAAU,CAAC,OAAO,CAAC,EAAE;EAChD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,8DAA8DC,kBAAkB,CAACf,SAAS,CAAC,WAAWM,MAAM,EAAE,CAAC;IAC5I,MAAMU,MAAM,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;IAEpC,IAAID,MAAM,CAACJ,UAAU,CAAC,OAAO,CAAC,EAAE;MAC9BV,UAAU,CAACc,MAAM,CAAC;MAClBX,oBAAoB,CAAC,IAAI,CAAC;MAC1B;IACF;IAGA,MAAMa,eAAe,GAAGX,UAAU,CAACS,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,GAAGG,QAAQ,CAACH,MAAM,CAAC,CAACI,QAAQ,CAAC,CAAC,GAAGJ,MAAM;IAE3Fb,gBAAgB,CAACe,eAAe,CAAC;IACjC,MAAMG,cAAc,GAAGjB,OAAO,CAACkB,KAAK,CAAC,CAAC,EAAE,CAACrB,aAAa,CAACsB,MAAM,CAAC,GAAG,GAAGL,eAAe,EAAE;IACrFhB,UAAU,CAACmB,cAAc,CAAC;IAC1BhB,oBAAoB,CAAC,IAAI,CAAC;EAC5B,CAAC,CAAC,OAAOmB,KAAK,EAAE;IACdnB,oBAAoB,CAAC,IAAI,CAAC;IAC1BI,OAAO,CAACe,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9BtB,UAAU,CAAC,OAAO,CAAC;EACrB;AACF,CAAC;AAED,eAAeH,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}